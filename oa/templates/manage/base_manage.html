{% extends "base.html" %}


{% block extra_head %}
<style>
    .custom-popover {
      --bs-popover-max-width: 400px;
    }
</style>
{% endblock %}


{% block content %}

{% include "modals/get_started_modal.html" %}

{% endblock %}


{% block extra_scripts %}
<script>

    const API_KEY = "{{ selected_project.uuid }}";

    /* Utility functions */

    function initializePopovers() {
        const popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));
        popoverTriggerList.map(function (popoverTriggerEl) {
            return new bootstrap.Popover(popoverTriggerEl);
        });
    }

    /* Tab switching for nav */
    document.querySelectorAll('#nav-tab .nav-link').forEach(tab => {
        tab.addEventListener('click', function (e) {
            e.preventDefault();

            // Update active/inactive classes for all tabs
            document.querySelectorAll('#nav-tab .nav-link').forEach(t => {
                t.classList.remove('active');
                t.classList.add('text-secondary');
            });
            this.classList.add('active');
            this.classList.remove('text-secondary');

            // Hide all tab containers (assumes containers have ids that match the pattern: [tab id minus "Tab"] + "-container")
            const containerIds = ['overview-container', 'assistants-container', 'folders-container', 'tools-container'];
            containerIds.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.classList.add('d-none');
            });

            // Show the container corresponding to the clicked tab
            const containerId = this.id.replace('Tab', '-container');
            const container = document.getElementById(containerId);
            if (container) {
                container.classList.remove('d-none');
            }
        });
    });

</script>

{% include "modals/get_started_js.html" %}
{% include "partials/utils_js.html" %}

{% endblock %}
